<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Kayıt Ol</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #0d0e22, #1a142e);
    display: flex;
    justify-content: center;
    align-items: center;
    color: #d4d4e7;
  }
  .container {
    background: linear-gradient(145deg, #12152f, #1f1a3d);
    padding: 36px 44px;
    border-radius: 14px;
    box-shadow: 0 10px 30px rgba(25, 22, 50, 0.85);
    width: 360px;
  }
  h2 {
    text-align: center;
    margin-bottom: 23px;
    font-weight: 700;
    letter-spacing: 1.5px;
    color: #b3b7d6;
  }
  input {
    width: 100%;
    padding: 14px 18px;
    margin: 14px 0;
    border: none;
    border-radius: 10px;
    font-size: 18px;
    background: #1c1f3a;
    color: #d4d4e7;
    transition: background-color 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
  }
  input::placeholder {
    color: #7c7e9f;
    font-weight: 500;
  }
  input:focus {
    outline: none;
    background: #252942;
    box-shadow: 0 0 8px 2px #6e6db3;
  }
  input.error {
    border: 2px solid red !important;
    box-shadow: none !important;
  }
  button {
    width: 100%;
    padding: 16px;
    margin-top: 28px;
    border: none;
    border-radius: 14px;
    background: linear-gradient(90deg, #3b3a72, #51487a);
    color: white;
    font-weight: 700;
    font-size: 18px;
    cursor: pointer;
    transition: transform 0.22s ease, box-shadow 0.22s ease;
    box-shadow: 0 5px 15px rgba(94, 88, 122, 0.7);
  }
  button:hover {
    transform: scale(1.07);
    box-shadow: 0 12px 30px rgba(94, 88, 122, 1);
  }
  .form-error {
    color: #ff5555;
    font-weight: 700;
    margin-bottom: 14px;
    border: 1px solid #ff5555;
    padding: 10px;
    border-radius: 6px;
    background-color: #330000;
    text-align: center;
    display: none;
  }
  .help-text {
    font-size: 13px;
    margin-top: -10px;
    margin-bottom: 10px;
    color: #8a8db1;
    font-weight: 500;
  }
  .password-requirements {
    font-size: 14px;
    margin-top: 4px;
    margin-bottom: 12px;
    padding-left: 12px;
    color: #7c7e9f;
    line-height: 1.5;
    user-select: none;
  }
  .password-requirements span {
    display: block;
    margin-bottom: 6px;
    position: relative;
    padding-left: 20px;
    transition: color 0.3s ease;
  }
  .password-requirements span::before {
    content: "•";
    position: absolute;
    left: 0;
    color: #7c7e9f;
    font-weight: bold;
    font-size: 18px;
    top: 0;
    line-height: 1;
    transition: color 0.3s ease;
  }
  .password-requirements .valid {
    color: #57e32a;
  }
  .password-requirements .valid::before {
    color: #57e32a;
  }
  .highlight {
    transition: color 0.3s ease;
  }
  .highlight.valid {
    color: #57e32a;
    font-weight: 700;
  }
  /* Eğer tüm cümle valid ise tüm span yeşil */
  .password-requirements .all-valid {
    color: #57e32a !important;
  }
  .password-requirements .all-valid::before {
    color: #57e32a !important;
  }
</style>
</head>
<body>
  <div class="container">
    <form id="registerForm" novalidate>
      <div id="formError" class="form-error"></div>
      <h2>Kayıt Ol</h2>

      <input type="text" id="username" placeholder="Kullanıcı Adı" />
      <input type="email" id="email" placeholder="E-posta" />
      <input type="password" id="password" placeholder="Şifre" />
      
    <div class="password-requirements" id="passwordRequirements">
  <span id="lengthReq">Şifreniz en az <strong>8 karakterli</strong> olmalıdır!</span><br/>
  <span id="numberReq">Şifrenizde en az bir adet <strong>rakam</strong> bulunmalıdır!</span><br/>
  <span id="caseReq">
    Şifrenizde en az 
    <span id="upperReq" class="highlight">1 büyük</span> ve 
    <span id="lowerReq" class="highlight">1 küçük</span> harf olmalıdır!
  </span>
</div>


<!-- ... diğer HTML kodları ... -->

<script src="script.js"></script>

      
      <input type="password" id="confirmPassword" placeholder="Şifreyi Onayla" />
      <div id="passwordHelp" class="help-text"></div>
      <div id="confirmPasswordHelp" class="help-text"></div>
      <button type="submit" id="submitBtn">Kayıt Ol</button>
    </form>
  </div>

  <script>
/* === ELEMENTLER === */
const form = document.getElementById("registerForm");
const emailInput = document.getElementById("email");
const usernameInput = document.getElementById("username");
const passwordInput = document.getElementById("password");
const confirmPasswordInput = document.getElementById("confirmPassword");
const formError = document.getElementById("formError");

const lengthReq = document.getElementById("lengthReq");
const numberReq = document.getElementById("numberReq");
const caseReq = document.getElementById("caseReq");
const upperReq = document.getElementById("upperReq");
const lowerReq = document.getElementById("lowerReq");

const validDomains = ["gmail.com", "hotmail.com", "yahoo.com", "outlook.com"];

/* === E-POSTA KONTROL === */
emailInput.addEventListener("input", () => {
  const email = emailInput.value.trim();
  const atIndex = email.indexOf("@");

  if (atIndex === -1) {
    emailInput.classList.remove("error");
    return;
  }

  const domain = email.substring(atIndex + 1).toLowerCase();

  if (validDomains.includes(domain)) {
    emailInput.classList.remove("error");
  } else {
    emailInput.classList.add("error");
  }
});

/* === ŞİFRE GEREKSİNİMLERİ === */
function updatePasswordRequirements(password) {
  const hasLength = password.length >= 8;
  const hasNumber = /\d/.test(password);
  const hasUpper = /[A-Z]/.test(password);
  const hasLower = /[a-z]/.test(password);

  // Reset
  lengthReq.classList.remove("valid");
  numberReq.classList.remove("valid");
  upperReq.classList.remove("valid");
  lowerReq.classList.remove("valid");
  caseReq.classList.remove("all-valid");

  // Tek tek yeşillenme
  if (hasLength) lengthReq.classList.add("valid");
  if (hasNumber) numberReq.classList.add("valid");
  if (hasUpper) upperReq.classList.add("valid");
  if (hasLower) lowerReq.classList.add("valid");

  // Büyük + küçük varsa → TÜM MADDE YEŞİL
  if (hasUpper && hasLower) {
    caseReq.classList.add("all-valid");
  }
}

passwordInput.addEventListener("input", () => {
  updatePasswordRequirements(passwordInput.value);
  passwordInput.classList.remove("error");
  formError.style.display = "none";
});

/* === FORM DOĞRULAMA === */
function validateEmail(email) {
  return /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i.test(email);
}

function validateUsername(username) {
  return /^[a-zA-Z0-9]{4,}$/.test(username);
}

function validatePassword(password) {
  return (
    password.length >= 8 &&
    /\d/.test(password) &&
    /[A-Z]/.test(password) &&
    /[a-z]/.test(password)
  );
}

/* === SUBMIT === */
form.addEventListener("submit", (e) => {
  e.preventDefault();

  let hasError = false;

  // Reset
  formError.style.display = "none";
  emailInput.classList.remove("error");
  usernameInput.classList.remove("error");
  passwordInput.classList.remove("error");
  confirmPasswordInput.classList.remove("error");

  if (!validateEmail(emailInput.value.trim())) {
    emailInput.classList.add("error");
    hasError = true;
  }

  if (!validateUsername(usernameInput.value.trim())) {
    usernameInput.classList.add("error");
    hasError = true;
  }

  if (!validatePassword(passwordInput.value)) {
    passwordInput.classList.add("error");
    hasError = true;
  }

  if (
    confirmPasswordInput.value === "" ||
    passwordInput.value !== confirmPasswordInput.value
  ) {
    confirmPasswordInput.classList.add("error");
    hasError = true;
  }

  if (hasError) {
    formError.textContent = "Lütfen gerekli alanları doğru doldurunuz!";
    formError.style.display = "block";
    return;
  }

  alert("Kayıt başarılı!");
  form.reset();
  updatePasswordRequirements("");
});
</script>
